---
# Override any variable from 'ansible/vars/default.yml'
vagrant_local:
  vm:
    name: szshopvm
    provider: virtualbox
    base_box: bento/ubuntu-16.04
    hostname: szshop-dev.sueddeutsche.de
    aliases:
      - szshop-devresponsive.sueddeutsche.de
    ip: 10.169.0.67
    memory: '2048'
    cpus: 4
    # app_shared_folder will be mounted to /mnt/asf
    # and inside the box: bindfs will be used to mount /mnt/asf to /var/www
    app_shared_folder:
      source: ../..
      target: /var/www

eshop_target_path: "{{ vagrant_local.vm.app_shared_folder.target }}/szshop_vagrant"
theme_target_path: "{{ eshop_target_path }}/oxid/application/views/flow"

eshop_path:
  root: "{{ eshop_target_path }}"
  source: "{{ eshop_target_path }}/oxid"
  tests: "{{ eshop_target_path }}/tests"
  modules: "{{ eshop_target_path }}/oxid/modules"

apache:
  docroot: "{{ eshop_path.source }}"

mysql:
  root_password: 'root'
  database: devlocal
  user: bds
  password: bds
  dump: ''

php:
  install: true
  packages:
    # cli package install will fail, it is present anyway.
    # - cli
    - intl
    - mcrypt
    - mysql
    - gd
    - curl
    - xml
  version: 5.6
  # version: 7.1
  display_errors: Off
  xdebug:
    install: '1'
  zendguard:
    install: true
  ioncube:
    install: false

eshop:
  composer:
    clean_vendors: false
    vendor: "{{ eshop_target_path }}/oxid/vendor"
  sdk:
    path: ~/eshop_sdk
    module_skeleton_generator:
      install: false
    module_certification_tools:
      install: false

varnish:
  install: false

selenium:
  install: false

adminer:
  install: false

adminer_editor:
  install: false

mailhog:
  install: false

java:
  install: false

elasticsearch:
  install: false

landing:
  install: false


apache_bds:
  install: true
  additionalvhosts_docroots:
  - "{{ vagrant_local.vm.app_shared_folder.target }}/szshop_devresponsive/oxid"

php_bds:
  install: true
  ubuntu1604_php56cli_logfile: /var/log/apache2/php_errors_cli.log

oxvm_bds:
  install: true
  shmdirs:
  - /dev/shm/shop/tmp
  - /dev/shm/devresponsive/tmp
  runscripts_vagrantup_always:
  - /var/www/szshop_vagrant/oxid/bin/create_symlinks_for_windows_git.sh
  - /var/www/szshop_responsive/oxid/bin/create_symlinks_for_windows_git.sh

